---
import { getTranslations, type Language, getLocalizedPath } from '@lib/i18n';
import LanguageSwitcher from './LanguageSwitcher.astro';

interface Props {
  lang: Language;
  currentPath: string;
}

const { lang, currentPath } = Astro.props;
const t = getTranslations(lang);
---

<header class="border-b border-gray-200 bg-white sticky top-0 z-50">
  <nav class="container py-4" aria-label="Main navigation">
    <div class="flex items-center justify-between">
      <a href="/" class="flex items-center">
        <img src="/plademy-black-logo.svg" alt="Plademy" class="h-8" />
      </a>

      <div class="flex items-center gap-6">
            <ul class="hidden md:flex gap-6">
              <li>
                <a
                  href={getLocalizedPath('/programs', lang)}
                  class={`hover:text-primary ${
                    currentPath.startsWith('/programs') || currentPath.startsWith('/ohjelmat') || currentPath.startsWith('/program')
                      ? 'text-primary font-semibold'
                      : 'text-black'
                  }`}
                >
                  {t.nav.programs}
                </a>
              </li>
              <li>
                <a
                  href={getLocalizedPath('/solutions', lang)}
                  class={`hover:text-primary ${
                    currentPath.startsWith('/solutions')
                      ? 'text-primary font-semibold'
                      : 'text-black'
                  }`}
                >
                  {t.nav.solutions}
                </a>
              </li>
              <li>
                <a
                  href={getLocalizedPath('/resources', lang)}
                  class={`hover:text-primary ${
                    currentPath.startsWith('/resources') || currentPath.startsWith('/resurssit') || currentPath.startsWith('/resurser')
                      ? 'text-primary font-semibold'
                      : 'text-black'
                  }`}
                >
                  {t.nav.resources}
                </a>
              </li>
              <li>
                <a
                  href={getLocalizedPath('/integrations', lang)}
                  class={`hover:text-primary ${
                    currentPath.startsWith('/integrations') || currentPath.startsWith('/integraatiot') || currentPath.startsWith('/integrationer')
                      ? 'text-primary font-semibold'
                      : 'text-black'
                  }`}
                >
                  {t.nav.integrations}
                </a>
              </li>
              <li>
                <a
                  href={getLocalizedPath('/contact', lang)}
                  class={`hover:text-primary ${
                    currentPath.startsWith('/contact') || currentPath.startsWith('/yhteystiedot') || currentPath.startsWith('/kontakt')
                      ? 'text-primary font-semibold'
                      : 'text-black'
                  }`}
                >
                  {t.nav.contact}
                </a>
              </li>
            </ul>

        <div class="flex items-center gap-4">
          <LanguageSwitcher currentLang={lang} currentPath={currentPath} />
          <a
            href={getLocalizedPath('/start', lang)}
            class="btn btn-primary"
          >
            {t.nav.start}
          </a>
        </div>
      </div>
    </div>
  </nav>
</header>

