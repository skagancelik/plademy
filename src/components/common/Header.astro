---
import { getTranslations, type Language } from '@lib/i18n';
import LanguageSwitcher from './LanguageSwitcher.astro';

interface Props {
  lang: Language;
  currentPath: string;
}

const { lang, currentPath } = Astro.props;
const t = getTranslations(lang);
---

<header class="border-b border-gray-200 bg-white sticky top-0 z-50">
  <nav class="container py-4" aria-label="Main navigation">
    <div class="flex items-center justify-between">
      <a href={`/${lang}/`} class="text-2xl font-bold text-primary">
        {t.site.name}
      </a>

      <div class="flex items-center gap-6">
        <ul class="hidden md:flex gap-6">
          <li>
            <a
              href={`/${lang}/`}
              class={`hover:text-primary ${
                currentPath === `/${lang}/` || currentPath === `/${lang}`
                  ? 'text-primary font-semibold'
                  : 'text-gray-700'
              }`}
            >
              {t.nav.home}
            </a>
          </li>
          <li>
            <a
              href={`/${lang}/programs/`}
              class={`hover:text-primary ${
                currentPath.startsWith(`/${lang}/programs`)
                  ? 'text-primary font-semibold'
                  : 'text-gray-700'
              }`}
            >
              {t.nav.programs}
            </a>
          </li>
          <li>
            <a
              href={`/${lang}/resources/`}
              class={`hover:text-primary ${
                currentPath.startsWith(`/${lang}/resources`)
                  ? 'text-primary font-semibold'
                  : 'text-gray-700'
              }`}
            >
              {t.nav.resources}
            </a>
          </li>
          <li>
            <a
              href={`/${lang}/integrations`}
              class={`hover:text-primary ${
                currentPath.startsWith(`/${lang}/integrations`)
                  ? 'text-primary font-semibold'
                  : 'text-gray-700'
              }`}
            >
              {t.nav.integrations}
            </a>
          </li>
          <li>
            <a
              href={`/${lang}/start`}
              class="btn btn-primary"
            >
              {t.nav.start}
            </a>
          </li>
        </ul>

        <LanguageSwitcher currentLang={lang} currentPath={currentPath} />
      </div>
    </div>
  </nav>
</header>

